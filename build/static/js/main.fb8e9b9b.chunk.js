(this["webpackJsonpcourse-work"]=this["webpackJsonpcourse-work"]||[]).push([[0],{119:function(e,t,a){},120:function(e,t,a){},122:function(e,t,a){},127:function(e,t,a){e.exports=a(281)},132:function(e,t,a){},134:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},270:function(e,t,a){},271:function(e,t,a){},281:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(53),c=a.n(l),o=(a(132),a(1)),s=a.n(o),i=a(4),u=a(5),m=(a(134),a(2)),d=a(123);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=r.a.createContext();var v=function(e,t){switch(t.type){case"LogInUser":case"LogOutUser":return f({},e,{user:t.payload});default:return e}},b=function(e){var t=(console.log(localStorage.getItem("curUser"),"sldasdasd"),localStorage.getItem("curUser")?{user:JSON.parse(localStorage.getItem("curUser"))}:{user:null}),a=Object(n.useReducer)(v,t),l=Object(m.a)(a,2),c=l[0],o=l[1];return r.a.createElement(h.Provider,{value:f({},c,{handleLogIn:function(e){o({type:"LogInUser",payload:e.user}),localStorage.setItem("curUser",JSON.stringify(e.user))},handleLogOut:function(e){o({type:"LogOutUser",payload:null}),localStorage.removeItem("curUser")}})},e.children)};function E(){return g.apply(this,arguments)}function g(){return(g=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/logout");case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function y(e){var t=e.user,a=Object(n.useContext)(h);return console.log(t),t?t.role?r.a.createElement("div",{className:"topnavbar"},r.a.createElement("img",{src:"https://res.cloudinary.com/drkgnohds/image/upload/v1573919755/course-work/logo2_dohqgj.png",className:"img",alt:"logo"}),r.a.createElement(u.b,{to:"/login",onClick:function(){a.handleLogOut(),E()}},r.a.createElement("p",null,"Log out")),r.a.createElement(u.b,{to:"/about"},r.a.createElement("p",null,"About")),r.a.createElement(u.b,{to:"/profile/".concat(t.id)},r.a.createElement("p",null,t.name)),r.a.createElement(u.b,{to:"/users"},r.a.createElement("p",null,"Users")),r.a.createElement(u.b,{to:"/calendars"},r.a.createElement("p",null,"Calendars")),r.a.createElement(u.b,{to:"/events"},r.a.createElement("p",null,"Events")),r.a.createElement(u.b,{to:"/"},r.a.createElement("p",null,"Home"))):(console.log("sdasd"),r.a.createElement("div",{className:"topnavbar"},r.a.createElement("img",{src:"https://res.cloudinary.com/drkgnohds/image/upload/v1573919755/course-work/logo2_dohqgj.png",className:"img",alt:"logo"}),r.a.createElement(u.b,{to:"/login",onClick:function(){a.handleLogOut(),E()}},r.a.createElement("p",null,"Log out")),r.a.createElement(u.b,{to:"/about"},r.a.createElement("p",null,"About")),r.a.createElement(u.b,{to:"/profile/".concat(t.id)},r.a.createElement("p",null,t.name)),r.a.createElement(u.b,{to:"/calendars"},r.a.createElement("p",null,"Calendars")),r.a.createElement(u.b,{to:"/events"},r.a.createElement("p",null,"Events")),r.a.createElement(u.b,{to:"/"},r.a.createElement("p",{href:"../"},"Home")))):r.a.createElement("div",{className:"topnavbar"},r.a.createElement("img",{src:"https://res.cloudinary.com/drkgnohds/image/upload/v1573919755/course-work/logo2_dohqgj.png",className:"img",alt:"logo"}),r.a.createElement(u.b,{to:"/register"},r.a.createElement("p",null,"register")),r.a.createElement(u.b,{to:"/login"},r.a.createElement("p",null,"login")),r.a.createElement(u.b,{to:"/about"},r.a.createElement("p",null,"About")),r.a.createElement(u.b,{to:"/"},r.a.createElement("p",null,"Home")))}var x=function(){var e=Object(n.useContext)(h);return r.a.createElement(y,{user:e.user})};a(139);var k=function(){return r.a.createElement("div",{className:"WrapperAbout"},r.a.createElement("div",{className:"About"},r.a.createElement("h1",null,"The positive cycle of good time management"),r.a.createElement("p",null,"Looking through the list above, it\u2019s easy to see the multiplicative effect of time management. Good time management allows you to accomplish more in a shorter period of time, which leads to more free time, which lets you take advantage of learning opportunities, lowers your stress, and helps you focus, which leads to more career success. Each benefit of time management improves another aspect of your life. All you have to do is get the cycle started.")),r.a.createElement("div",{className:"AboutMe"},r.a.createElement("h1",null,"About me"),r.a.createElement("img",{src:"https://res.cloudinary.com/drkgnohds/image/upload/v1575222759/course-work/index_cjap3f.jpg",alt:"aboutPhoto"}),r.a.createElement("p",null,"My name is Yoshikage Kira. I'm 33 years old. My house is in the northeast section of Morioh, where all the villas are, and I am not married. I work as an employee for the Kame Yu department stores, and I get home every day by 8 PM at the latest. I don't smoke, but I occasionally drink. I'm in bed by 11 PM, and make sure I get eight hours of sleep, no matter what. After having a glass of warm milk and doing about twenty minutes of stretches before going to bed, I usually have no problems sleeping until morning. Just like a baby, I wake up without any fatigue or stress in the morning. I was told there were no issues at my last check-up. I'm trying to explain that I'm a person who wishes to live a very quiet life. I take care not to trouble myself with any enemies, like winning and losing, that would cause me to lose sleep at night. That is how I deal with society, and I know that is what brings me happiness. Although, if I were to fight I wouldn't lose to anyone."),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,"Created by")," : Ilya Rymarenko"),r.a.createElement("p",null,r.a.createElement("strong",null,"Contact email")," : rumarenko3@gmail.com")))};a(140);var N=function(){var e=Object(n.useContext)(h);return r.a.createElement("div",{className:"WrapperHome"},r.a.createElement("div",{className:"FirstInfoBlock"},r.a.createElement("div",{className:"FirstInfoBlockText"},r.a.createElement("h1",null,"Your notes."),r.a.createElement("h1",null,"Organized."),r.a.createElement("h1",null,"Effortless."),r.a.createElement("p",null,"Hello, dude are you new to my website? Don`t worry its pretty easy you know. My app can easialy manage your bisnesses 24/7. Ohh i didn`t mention it is 100% free. So just sign up and start planing."),r.a.createElement(u.b,{className:"SignUpLink",to:"/register"},"Sign up")),r.a.createElement("div",{className:"FirstInfoBlockImg"},r.a.createElement("img",{src:"https://res.cloudinary.com/drkgnohds/image/upload/v1575226356/course-work/sss_qhafvi.jpg",alt:"HomePageImg"}))),r.a.createElement("div",{className:"SecondBlockHome"},r.a.createElement("div",{className:"LeftHomeB"},r.a.createElement("img",{src:"https://res.cloudinary.com/drkgnohds/image/upload/v1576215242/course-work/download_katakz.jpg",alt:"homePic"})),r.a.createElement("div",{className:"RightHomeB"},r.a.createElement("p",null,"Always be in time just in 30 seconds."),r.a.createElement("p",null,"Update your profile to start using our bot @time_is_everything_bot"),r.a.createElement(u.b,{className:"LinkToProfile",to:"/profile/"+e.user.id},"Edit Profile"))))},j=(a(141),a(3)),w=a(6);function O(e){return e.val?r.a.createElement("div",{stylename:"error-message"},r.a.createElement("p",null,"Incorrect password or login")):r.a.createElement("div",null)}var C=function(e){var t=e.history,a=Object(n.useContext)(h),l=!1;return a.user&&t.push("/"),r.a.createElement("div",{className:"wrapper"},r.a.createElement(j.d,{initialValues:{login:"",password:""},validationSchema:w.object().shape({login:w.string().min(4,"Login must be at least 4 characters").required("Login is required"),password:w.string().min(6,"Password must be at least 6 characters").required("Password is required")}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(n){var r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/userauth",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({login:n.login,password:n.password})});case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,console.log(c.user),c.user?(a.handleLogIn({user:{name:c.user.login,isAuthenticated:!0,role:c.user.role,id:c.user.id}}),t.push("/")):l=!0,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.errors,a=(e.status,e.touched);return r.a.createElement(j.c,{onChange:function(){return l=!1}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"login"},"Login"),r.a.createElement(j.b,{name:"login",type:"text",className:"form-control"+(t.login&&a.login?" is-invalid":"")}),r.a.createElement(j.a,{name:"login",component:"div",className:"invalid-feedback error-message"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(j.b,{name:"password",type:"password",className:"form-control"+(t.password&&a.password?" is-invalid":"")}),r.a.createElement(j.a,{name:"password",component:"div",className:"invalid-feedback error-message"})),r.a.createElement(O,{val:l}),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary mr-2"},"Login")))})))},S=a(19);a(119);var I=function(){return r.a.createElement("div",{className:"footer"},"All rights reserved @2019",r.a.createElement("strong",null," Hostel \u211614 KPI University"),".")};a(270);function T(e){var t=e.val;return"NoErrors"===t?r.a.createElement("div",null):"PasswordsDontMatch"===t?r.a.createElement("div",{stylename:"error-message"},r.a.createElement("p",null,"Passwords don`t match")):"SuchLoginExists"===t?r.a.createElement("div",{stylename:"error-message"},r.a.createElement("p",null,"Such Login Exists")):void 0}var F=function(e){var t=e.history,a="NoErrors";return r.a.createElement("div",{className:"wrapper"},r.a.createElement(j.d,{initialValues:{login:"",password:"",passwordConfirm:""},validationSchema:w.object().shape({login:w.string().min(4,"Login must be at least 4 characters").required("Login is required"),password:w.string().min(6,"Password must be at least 6 characters").required("Password is required"),passwordConfirm:w.string().min(6,"Password must be at least 6 characters").required("Password is required")}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.password===n.passwordConfirm){e.next=4;break}a="PasswordsDontMatch",e.next=15;break;case 4:return e.prev=4,e.next=7,fetch("api/v1/user",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({login:n.login,password:n.password})});case 7:r=e.sent,console.log(r),400===r.status?a="SuchLoginExists":t.push("/login"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.errors,n=(e.status,e.touched);return r.a.createElement(j.c,{onChange:function(){return a="NoErrors"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"login"},"Login"),r.a.createElement(j.b,{name:"login",type:"text",className:"form-control"+(t.login&&n.login?" is-invalid":"")}),r.a.createElement(j.a,{name:"login",component:"div",className:"invalid-feedback error-message"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(j.b,{name:"password",type:"password",className:"form-control"+(t.password&&n.password?" is-invalid":"")}),r.a.createElement(j.a,{name:"password",component:"div",className:"invalid-feedback error-message"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password Confirmation"),r.a.createElement(j.b,{name:"passwordConfirm",type:"password",className:"form-control"+(t.password&&n.password?" is-invalid":"")}),r.a.createElement(j.a,{name:"passwordConfirm",component:"div",className:"invalid-feedback error-message"})),r.a.createElement(T,{val:a}),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-primary mr-2"},"Register")))})))},A=(a(271),["user","admin"]);var D=function(e){var t=e.history,a=e.match,l=Object(n.useState)(!1),c=Object(m.a)(l,2),o=c[0],u=c[1],d=Object(n.useContext)(h),p=Object(n.useState)([]),f=Object(m.a)(p,2),v=f[0],b=f[1],E=Object(n.useState)(!0),g=Object(m.a)(E,2),y=g[0],x=g[1];function k(e){e.preventDefault(),u(!o)}return Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d.user){e.next=4;break}t.push("/unauthorized"),e.next=27;break;case 4:return e.prev=4,e.next=7,fetch("/api/v1/user/".concat(a.params.id),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if(n=e.sent,d.user.role||d.user.id===a.params.id){e.next=12;break}t.push("/forbiden"),e.next=22;break;case 12:if(200!==n.status){e.next=21;break}return e.next=15,n.json();case 15:r=e.sent,b(r),u(!1),x(!1),e.next=22;break;case 21:400===n.status?t.push("/wrongreq"):404===n.status&&t.push("/notfound");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(4),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[4,24]])})))).apply(this,arguments)}null!==a.params.id&&function(){e.apply(this,arguments)}()}),[a.params.id,t,d.user]),r.a.createElement("div",null,!y&&r.a.createElement("div",null,r.a.createElement(j.d,{enableReinitialize:!0,initialValues:{bio:v.bio,fullname:v.fullname,role:A[v.role],telegram:v.telegramLogin},validationSchema:w.object().shape({bio:w.string().min(4,"Bio must be at least 4 characters").max(1e3,"Bio shoudn`t be above 1000 characters").required(),fullname:w.string().min(4,"Fullname must be at least 4 characters").max(20,"Fullname should be less thsn 20 characters").required(),telegramLogin:w.string().min(1,"Fullname must be at least 4 characters").max(20,"Fullname should be less thsn 20 characters")}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(n){var r,l,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="admin"===n.role?1:0,x(!0),e.prev=2,l=new FormData,n.file&&l.append("avaUrl",n.file),l.append("fullname",n.fullname),l.append("bio",n.bio),l.append("role",r),l.append("telegram",n.telegram),e.next=11,fetch("/api/v1/user/".concat(a.params.id),{method:"PUT",headers:{},body:l});case 11:if(c=e.sent,console.log(c),n.file=void 0,200!==c.status){e.next=24;break}return e.next=17,c.json();case 17:o=e.sent,u(!1),b(o),console.log(o),x(!1),e.next=25;break;case 24:400===c.status?t.push("/wrongreq"):404===c.status&&t.push("/notfound");case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(2),console.log(e.t0);case 30:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){e.errors,e.touched;var t=e.setFieldValue;return r.a.createElement(j.c,null,r.a.createElement("div",{className:"ProfileWrapper"},r.a.createElement("div",{className:"ProfileLeftBlock"},r.a.createElement("img",{src:v.avaUrl,alt:"ProfilePhoto"}),r.a.createElement("div",{className:"ProfileChangeAva"},o&&v._id===d.user.id?r.a.createElement("input",{type:"file",name:"file",onChange:function(e){t("file",e.currentTarget.files[0])}}):r.a.createElement("div",null)),r.a.createElement("div",{className:"FullnameInfo"},r.a.createElement("label",{htmlFor:"fullname"},r.a.createElement("p",null,"Fullname\xa0:\xa0")),o&&v._id===d.user.id?r.a.createElement(j.b,{name:"fullname",className:"form-control",component:"input"}):r.a.createElement("p",null,v.fullname)),r.a.createElement(j.a,{component:"div",className:"invalid-feedback error-message ErrorFullname",name:"fullname"}),r.a.createElement("div",{className:"StatusInfo1"},r.a.createElement("label",null,"Status\xa0:\xa0"),o&&1===d.user.role&&d.user.id!==v._id?r.a.createElement(j.b,{name:"role",className:"form-control",component:"select"},r.a.createElement("option",null,"user"),r.a.createElement("option",null,"admin")):r.a.createElement("p",null,A[v.role])),r.a.createElement("div",{className:"Telegraminfo"},r.a.createElement("label",null,"Telegram\xa0:\xa0"),o&&d.user.id===v._id?r.a.createElement(j.b,{name:"telegram",className:"form-control",component:"input"}):r.a.createElement("p",null,v.telegramLogin))),r.a.createElement("div",{className:"ProfileRightBlock"},r.a.createElement("h1",null,"Your bio"),o&&v._id===d.user.id?r.a.createElement(j.b,{name:"bio",className:"form-control",component:"textarea"}):r.a.createElement("p",null," "+v.bio),r.a.createElement(j.a,{component:"div",className:"invalid-feedback error-message",name:"bio"}),o?r.a.createElement("button",{style:{backgroundColor:"#4ACF93"},type:"submit",className:"form-control"},"Save"):r.a.createElement("button",{style:{backgroundColor:"yellow"},className:"form-control",type:"button",onClick:k},"Edit Mode"))))})),"  ")," ")};a(120);var P=function(e){var t=e.item,a=e.index,n=5*(e.page-1)+a+1;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},n),r.a.createElement("td",null,r.a.createElement(u.b,{to:"/profile/"+t._id},t.login)),r.a.createElement("td",null,t.registeredAt))};var L=function(e){var t=e.history,a=Object(n.useContext)(h),l=Object(n.useState)([]),c=Object(m.a)(l,2),o=c[0],u=c[1],d=Object(n.useState)(1),p=Object(m.a)(d,2),f=p[0],v=p[1],b=Object(n.useState)(),E=Object(m.a)(b,2),g=E[0],y=E[1],x=Object(n.useState)(!0),k=Object(m.a)(x,2),N=k[0],j=k[1],w=Object(n.useState)(""),O=Object(m.a)(w,2),C=O[0],S=O[1];function I(){return(I=Object(i.a)(s.a.mark((function e(a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),n=parseInt(a)+1,console.log(n,"page"),e.prev=3,e.next=6,fetch("/api/v1/users/?page=".concat(n,"&search=").concat(C),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 6:if(200!==(r=e.sent).status){e.next=17;break}return e.next=10,r.json();case 10:l=e.sent,u(l.users),y(l.count),v(n),j(!1),e.next=18;break;case 17:404===r.status?t.push("/notfound"):400===r.status&&t.push("/wrongreq");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}function T(){return(T=Object(i.a)(s.a.mark((function e(a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),n=parseInt(a)-1,console.log(n,"page"),e.prev=3,e.next=6,fetch("/api/v1/users/?page=".concat(n,"&search=").concat(C),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 6:if(200!==(r=e.sent).status){e.next=17;break}return e.next=10,r.json();case 10:l=e.sent,u(l.users),y(l.count),v(n),j(!1),e.next=18;break;case 17:404===r.status?t.push("/notfound"):400===r.status&&t.push("/wrongreq");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.user){e.next=4;break}t.push("/unauthorized"),e.next=27;break;case 4:if(1===a.user.role){e.next=8;break}t.push("/forbiden"),e.next=27;break;case 8:return e.prev=8,e.next=11,fetch("/api/v1/users/?page=1&search=".concat(C),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 11:if(200!==(n=e.sent).status){e.next=21;break}return e.next=15,n.json();case 15:r=e.sent,u(r.users),y(r.count),j(!1),e.next=22;break;case 21:404===n.status?t.push("/notfound"):400===n.status&&t.push("/wrongreq");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(8),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[8,24]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[y,t,C,a.user]);var F=Math.ceil(g/5);return console.log(g),r.a.createElement("div",null," ",!N&&r.a.createElement("div",{className:"UsersWrapper"},r.a.createElement("div",{className:"SearchBlock"},r.a.createElement("label",null,"Search\xa0by\xa0Login\xa0:\xa0"),r.a.createElement("input",{className:"form-control Search",maxLength:"20",onChange:function(e){e.preventDefault(),S(e.currentTarget.value)}})),0===g?r.a.createElement("div",{className:"NothingFoundCol"},"Nothing\xa0Found"):r.a.createElement("div",null,r.a.createElement("div",{className:"UsersInfo"},r.a.createElement("table",{className:"table table-hover table-fixed"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Login"),r.a.createElement("th",null,"RegisteredAt"))),r.a.createElement("tbody",null,o.map((function(e,t){return r.a.createElement(P,{key:e._id,index:t,page:f,item:e})}))))),r.a.createElement("div",{className:"PaginationButtons"},r.a.createElement("div",{className:"prevButton"},1===f?r.a.createElement("button",{disabled:!0,className:"form-control"},"prev"):r.a.createElement("button",{className:"form-control",onClick:function(){!function(e){T.apply(this,arguments)}(f)}},"prev")),r.a.createElement("p",null,f+" / "+F),r.a.createElement("div",{className:"nextButton"},5*f<g?r.a.createElement("button",{className:"form-control",onClick:function(){!function(e){I.apply(this,arguments)}(f)}},"next"):r.a.createElement("button",{disabled:!0,className:"form-control"},"next"))))))};a(39);var q=function(e){var t=e.item,a=e.index,n=5*(e.page-1)+a+1,l="";return-1===t.status?l="#FF4E4E":1===t.status&&(l="#66FF66"),r.a.createElement("tr",null,r.a.createElement("th",{style:{background:l},scope:"row"},n),r.a.createElement("td",{style:{background:l}},r.a.createElement(u.b,{to:"/event/"+t._id},t.name)),r.a.createElement("td",{style:{background:l}},t.deadLine))};var B=function(e){var t=e.history,a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(1),d=Object(m.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(),b=Object(m.a)(v,2),E=b[0],g=b[1],y=Object(n.useState)(!0),x=Object(m.a)(y,2),k=x[0],N=x[1],j=Object(n.useState)(""),w=Object(m.a)(j,2),O=w[0],C=w[1],S=Object(n.useContext)(h);function I(){return(I=Object(i.a)(s.a.mark((function e(a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),n=parseInt(a)+1,console.log(n,"page"),e.prev=3,e.next=6,fetch("/api/v1/events/?page=".concat(n,"&search=").concat(O),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 6:if(200!==(r=e.sent).status){e.next=17;break}return e.next=10,r.json();case 10:l=e.sent,o(l.events),g(l.count),f(n),N(!1),e.next=18;break;case 17:404===r.status?t.push("/notfound"):400===r.status&&t.push("/wrongreq");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}function T(){return(T=Object(i.a)(s.a.mark((function e(a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),n=parseInt(a)-1,console.log(n,"page"),e.prev=3,e.next=6,fetch("/api/v1/events/?page=".concat(n,"&search=").concat(O),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 6:if(200!==(r=e.sent).status){e.next=17;break}return e.next=10,r.json();case 10:l=e.sent,o(l.events),g(l.count),f(n),N(!1),e.next=18;break;case 17:404===r.status?t.push("/notfound"):400===r.status&&t.push("/wrongreq");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.user){e.next=4;break}t.push("/unauthorized"),e.next=24;break;case 4:return e.prev=4,e.next=7,fetch("/api/v1/events/?page=1&search=".concat(O),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if(200!==(a=e.sent).status){e.next=18;break}return e.next=11,a.json();case 11:n=e.sent,console.log(n),o(n.events),g(n.count),N(!1),e.next=19;break;case 18:404===a.status?t.push("/notfound"):400===a.status&&t.push("/wrongreq");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[4,21]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[g,t,O,S.user]);var F=Math.ceil(E/5);return r.a.createElement("div",null," ",!k&&r.a.createElement("div",{className:"EventsWrapper"},r.a.createElement("div",{className:"SearchBlock"},r.a.createElement("label",null,"Search\xa0by\xa0Name\xa0:\xa0"),r.a.createElement("input",{className:"form-control Search",maxLength:"20",onChange:function(e){e.preventDefault(),C(e.currentTarget.value)}})),r.a.createElement("div",{className:"EventsInfo"},0===E?r.a.createElement("div",{className:"NothingFoundCol"},"Nothing\xa0Found"):r.a.createElement("div",null,r.a.createElement("table",{className:"table table-hover table-fixed"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Deadline"))),r.a.createElement("tbody",null,c.map((function(e,t){return r.a.createElement(q,{key:e._id,index:t,page:p,item:e})})))),r.a.createElement("div",{className:"PaginationButtons"},r.a.createElement("div",{className:"prevButton"},1===p?r.a.createElement("button",{disabled:!0,className:"form-control"},"prev"):r.a.createElement("button",{className:"form-control",onClick:function(){!function(e){T.apply(this,arguments)}(p)}},"prev")),r.a.createElement("p",null,p+" / "+F),r.a.createElement("div",{className:"nextButton"},5*p<E?r.a.createElement("button",{className:"form-control",onClick:function(){!function(e){I.apply(this,arguments)}(p)}},"next"):r.a.createElement("button",{disabled:!0,className:"form-control"},"next")))),r.a.createElement("div",{className:"AddButton"},r.a.createElement("button",{className:"form-control",onClick:function(){t.push("/addEvent")}},"Add event")))))},_=a(25),U=a(13),M=a.n(U);var V=function(e){var t=e.match,a=e.history,l=Object(n.useState)(!1),c=Object(m.a)(l,2),o=c[0],u=c[1],d=Object(n.useState)([]),p=Object(m.a)(d,2),f=p[0],v=p[1],b=Object(n.useState)(!0),E=Object(m.a)(b,2),g=E[0],y=E[1],x=["Failed","Ongoing","Done"],k=Object(n.useState)(!0),N=Object(m.a)(k,2),O=N[0],C=N[1],S=Object(n.useContext)(h);function I(e){e.preventDefault(),u(!o)}Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.user){e.next=4;break}a.push("/unauthorized"),e.next=24;break;case 4:return e.prev=4,e.next=7,fetch("/api/v1/events/".concat(t.params.id),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if(n=e.sent,console.log(n),200!==n.status){e.next=18;break}return e.next=12,n.json();case 12:r=e.sent,v(r),u(!1),y(!1),e.next=19;break;case 18:400===n.status?a.push("/wrongreq"):404===n.status&&a.push("/notfound");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(4),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[4,21]])})))).apply(this,arguments)}null!==t.params.id&&function(){e.apply(this,arguments)}()}),[t.params.id,a,S.user]);var T=_.moment().subtract(1,"day"),F=function(e){return e.isAfter(T)},A=M()(f.deadLine).format("MM/DD/YYYY h:mm A");function D(){return(D=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/events/".concat(t.params.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:n=e.sent,console.log(n),204===n.status?a.push("/events"):400===n.status&&a.push("/wrongreq"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return r.a.createElement("div",null," ",!g&&r.a.createElement(j.d,{enableReinitialize:!0,initialValues:{description:f.description,name:f.name,difficulty:f.difficulty,status:x[f.status+1],deadline:f.deadline},validationSchema:w.object().shape({description:w.string().min(10,"Bio must be at least 10 characters").max(400,"Bio shoudn`t be above 400 characters").required(),name:w.string().min(4,"Name must be at least 10 characters").max(20,"Name shoudn`t be above 20 characters").required(),difficulty:w.number().min(1,"Difficulty should be from 1 to 10").max(10,"Difficulty should be from 1 to 10").required()}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(n){var r,l,c,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=0,"Done"===n.status&&(r=1),l=M()(n.deadline).format(),console.log(l),c=new FormData,n.file&&c.append("themeUrl",n.file),c.append("status",r),c.append("description",n.description),c.append("name",n.name),c.append("difficulty",n.difficulty),c.append("deadline",l),y(!0),e.next=15,fetch("/api/v1/events/".concat(t.params.id),{method:"PUT",headers:{},body:c});case 15:if(o=e.sent,console.log(o),200!==o.status){e.next=26;break}return e.next=20,o.json();case 20:i=e.sent,u(!1),v(i),y(!1),e.next=27;break;case 26:400===o.status?a.push("/wrongreq"):404===o.status&&a.push("/notfound");case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0);case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){e.errors,e.touched;var t=e.setFieldValue;return r.a.createElement(j.c,null,r.a.createElement("div",{className:"EventWrapper"},r.a.createElement("div",{className:"LeftInfoBlockEvent"},r.a.createElement("img",{src:f.themeUrl,alt:"Evnent theme"}),r.a.createElement("div",{className:"EventChangeTheme"},o?r.a.createElement("input",{type:"file",name:"file",onChange:function(e){t("file",e.currentTarget.files[0])}}):r.a.createElement("div",null)),r.a.createElement("div",{className:"NameInfo"},r.a.createElement("label",{htmlFor:"name"},r.a.createElement("p",null,"Name\xa0:\xa0")),o?r.a.createElement(j.b,{name:"name",className:"form-control",component:"input"}):r.a.createElement("p",null,f.name),r.a.createElement(j.a,{component:"div",className:"invalid-feedback error-message ErrorName",name:"name"})),r.a.createElement("div",{className:"DifficultyInfo"},r.a.createElement("label",{htmlFor:"difficulty"},r.a.createElement("p",null,"Difficulty\xa0:\xa0")),o?r.a.createElement("input",{name:"difficulty",defaultValue:f.difficulty,onChange:function(e){t("difficulty",e.currentTarget.value)},className:"form-control",type:"number",min:"1",max:"10"}):r.a.createElement("p",null,f.difficulty)),r.a.createElement("div",{className:"StatusInfo"},r.a.createElement("label",{htmlFor:"status"},"Status\xa0:\xa0"),o?r.a.createElement(j.b,{name:"status",className:"form-control",component:"select"},r.a.createElement("option",null,"Ongoing"),r.a.createElement("option",null,"Done")):r.a.createElement("p",null,x[f.status+1])),r.a.createElement("div",{className:"DeadlineInfo"},r.a.createElement("label",{id:"date",htmlFor:"deadline"},"Deadline\xa0:\xa0"),o?r.a.createElement(_,{isValidDate:F,defaultValue:A,inputProps:{className:"datetime",disabled:!0},onChange:function(e){var a;t("deadline",e._d),a=e._d,M()(a).isAfter(M()())?C(!0):C(!1)}}):r.a.createElement("p",null,A)),!o&&r.a.createElement("div",{className:"DeleteButton"},r.a.createElement("button",{type:"button",class:"btn btn-info btn-lg btn-danger","data-toggle":"modal","data-target":"#myModal"},"Delete"),r.a.createElement("div",{class:"modal fade",id:"myModal",role:"dialog"},r.a.createElement("div",{class:"modal-dialog modal-sm"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal"},"\xd7"),r.a.createElement("h4",{class:"modal-title"},"Are you sure?"),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",onClick:function(){!function(){D.apply(this,arguments)}()},class:"btn btn-default","data-dismiss":"modal",method:"POST"},"Ok"),r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Close")))))))),r.a.createElement("div",{className:"RightInfoBlockEvent"},r.a.createElement("h1",null,"Description"),o?r.a.createElement(j.b,{name:"description",className:"form-control",component:"textarea"}):r.a.createElement("p",null,f.description),r.a.createElement(j.a,{component:"div",className:"invalid-feedback error-message",name:"description"}),0===f.status&&o&&O?r.a.createElement("button",{style:{backgroundColor:"#4ACF93"},type:"submit",className:"form-control"},"Save"):o&&!O&&0===f.status?r.a.createElement("button",{disabled:!0,type:"submit",className:"form-control"},"Save"):0===f.status?r.a.createElement("button",{style:{backgroundColor:"yellow"},className:"form-control",type:"button",onClick:I},"Edit Mode"):r.a.createElement("div",null))))})))};var z=function(e){var t=e.history;Object(n.useContext)(h).user||t.push("/unauthorized");var a=Object(n.useState)(!0),l=Object(m.a)(a,2),c=l[0],o=l[1],u=_.moment().subtract(1,"day"),d=_.moment().add(3,"m"),p=function(e){return e.isAfter(u)};return r.a.createElement("div",null,r.a.createElement(j.d,{initialValues:{},validationSchema:w.object().shape({}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(a){var n,r,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=M()(a.deadline).format(),console.log(n),r=new FormData,a.file&&r.append("themeUrl",a.file),r.append("description",a.description),r.append("name",a.name),r.append("difficulty",a.difficulty),r.append("deadline",n),e.next=11,fetch("/api/v1/events",{method:"POST",headers:{},body:r});case 11:if(l=e.sent,console.log(l),201!==l.status){e.next=21;break}return e.next=16,l.json();case 16:c=e.sent,console.log(c),t.push("/event/".concat(c._id)),e.next=22;break;case 21:400===l.status?t.push("/wrongreq"):404===l.status&&t.push("/notfound");case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){e.errors,e.status,e.touched;var t=e.setFieldValue;return r.a.createElement("div",{className:"AddEventWrapper"},r.a.createElement(j.c,null,r.a.createElement("div",{className:"Input"},r.a.createElement("label",{htmlFor:"name"},"Name\xa0:\xa0"),r.a.createElement("input",{name:"name",className:"form-control",type:"text",minLength:"4",maxLength:"20",required:!0,onChange:function(e){t("name",e.currentTarget.value)}}),r.a.createElement("label",{htmlFor:"difficulty"},"Difficulty\xa0:\xa0"),r.a.createElement("input",{name:"difficulty",onChange:function(e){t("difficulty",e.currentTarget.value)},className:"form-control",type:"number",min:"1",max:"10",required:!0}),r.a.createElement("label",{htmlFor:"description"},"Description\xa0:\xa0"),r.a.createElement("input",{type:"textarea",name:"description",onChange:function(e){t("description",e.currentTarget.value)},className:"form-control",minLength:"10",maxLength:"200",required:!0}),r.a.createElement("label",{htmlFor:"deadline"},"Deadline\xa0:\xa0"),r.a.createElement(_,{required:!0,isValidDate:p,defaultValue:d,inputProps:{disabled:!0},onChange:function(e){var a;t("deadline",e._d),console.log(e._d),a=e._d,M()(a).isAfter(M()())?o(!0):o(!1)}}),r.a.createElement("label",{htmlFor:"deadline"},"Event\xa0Theme\xa0:\xa0"),r.a.createElement("input",{type:"file",name:"file",onChange:function(e){t("file",e.currentTarget.files[0])}}),c?r.a.createElement("button",{type:"submit",className:"form-control"},"Save"):r.a.createElement("button",{type:"submit",disabled:!0,className:"form-control"},"Save"))))})))};a(122);var G=function(e){var t=e.history;return Object(n.useContext)(h).user||t.push("/unauthorized"),r.a.createElement("div",null,r.a.createElement(j.d,{initialValues:{},validationSchema:w.object().shape({}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new FormData,a.file&&n.append("photoUrl",a.file),n.append("name",a.name),e.next=6,fetch("/api/v1/calendars",{method:"POST",headers:{},body:n});case 6:if(r=e.sent,console.log(r),201!==r.status){e.next=16;break}return e.next=11,r.json();case 11:l=e.sent,console.log(l),t.push("/calendars"),e.next=17;break;case 16:400===r.status?t.push("/wrongreq"):404===r.status&&t.push("/notfound");case 17:e.next=21;break;case 19:e.prev=19,e.t0=e.catch(0);case 21:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){e.errors,e.status,e.touched;var t=e.setFieldValue;return r.a.createElement("div",{className:"AddEventWrapper CalendarAddStyle"},r.a.createElement(j.c,null,r.a.createElement("div",{className:"Input"},r.a.createElement("label",{htmlFor:"name"},"Name\xa0:\xa0"),r.a.createElement("input",{name:"name",className:"form-control",type:"text",minLength:"4",maxLength:"20",required:!0,onChange:function(e){t("name",e.currentTarget.value)}}),r.a.createElement("label",{htmlFor:"deadline"},"Calendar\xa0Theme\xa0Photo\xa0:\xa0"),r.a.createElement("input",{type:"file",name:"file",onChange:function(e){t("file",e.currentTarget.files[0])}}),r.a.createElement("button",{type:"submit",className:"form-control"},"Save"))))})))};var R=function(e){var t=e.match,a=e.history,l=Object(n.useState)(!1),c=Object(m.a)(l,2),o=c[0],d=c[1],p=Object(n.useState)([]),f=Object(m.a)(p,2),v=f[0],b=f[1],E=Object(n.useState)([]),g=Object(m.a)(E,2),y=g[0],x=g[1],k=Object(n.useState)(),N=Object(m.a)(k,2),O=N[0],C=N[1],S=Object(n.useState)(),I=Object(m.a)(S,2),T=I[0],F=I[1],A=Object(n.useState)(!1),D=Object(m.a)(A,2),P=D[0],L=D[1],q=Object(n.useState)([]),B=Object(m.a)(q,2),_=B[0],U=B[1],M=Object(n.useState)(1),V=Object(m.a)(M,2),z=V[0],G=V[1],R=Object(n.useState)(0),W=Object(m.a)(R,2),H=W[0],J=W[1],Y=Object(n.useState)([]),K=Object(m.a)(Y,2),$=K[0],Q=K[1],X=Object(n.useState)(1),Z=Object(m.a)(X,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(0),ne=Object(m.a)(ae,2),re=ne[0],le=ne[1],ce=Object(n.useState)(!0),oe=Object(m.a)(ce,2),se=oe[0],ie=oe[1],ue=Object(n.useContext)(h);function me(){return(me=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/links",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({eventId:O,calendarId:v._id})});case 3:t=e.sent,console.log(t),201===t.status?L(!0):400===t.status?a.push("/wrongreq"):500===t.status&&console.log("pizda"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function de(){return(de=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/links",{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({eventId:T,calendarId:v._id})});case 3:t=e.sent,console.log(t),204===t.status?L(!0):400===t.status?a.push("/wrongreq"):500===t.status&&console.log("pizda"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function pe(e,t){for(var a=[],n=3*(e-1);n<3*e;n++)t[n]&&a.push(t[n]);return a}function fe(){return(fe=Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/v1/calendars/".concat(t.params.id),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:n=e.sent,console.log(n),204===n.status?a.push("/calendars"):400===n.status?a.push("/wrongreq"):500===n.status&&console.log("pizda"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue.user){e.next=4;break}a.push("/unauthorized"),e.next=30;break;case 4:return e.prev=4,e.next=7,fetch("/api/v1/calendars/".concat(t.params.id),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if(n=e.sent,console.log(n),200!==n.status){e.next=24;break}return e.next=12,n.json();case 12:r=e.sent,b(r.calendar),U(pe(1,r.calendar.events)),J(Math.ceil(r.calendar.events.length/3)),Q(pe(1,r.notCalendarEvents)),le(Math.ceil(r.notCalendarEvents.length/3)),x(r.notCalendarEvents),d(!1),ie(!1),L(!1),e.next=25;break;case 24:400===n.status?a.push("/wrongreq"):404===n.status&&a.push("/notfound");case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(4),console.log(e.t0);case 30:case"end":return e.stop()}}),e,null,[[4,27]])})))).apply(this,arguments)}null!==t.params.id&&function(){e.apply(this,arguments)}()}),[t.params.id,a,P,ue.user]),console.log(v.name),r.a.createElement("div",null," ",!se&&r.a.createElement(j.d,{enableReinitialize:!0,initialValues:{name:v.name},validationSchema:w.object().shape({name:w.string().min(4,"Name must be at least 10 characters").max(20,"Name shoudn`t be above 20 characters").required()}),onSubmit:function(){var e=Object(i.a)(s.a.mark((function e(n){var r,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new FormData,n.file&&r.append("photoUrl",n.file),r.append("name",n.name),ie(!0),e.next=7,fetch("/api/v1/calendars/".concat(t.params.id),{method:"PUT",headers:{},body:r});case 7:if(l=e.sent,console.log(l),200!==l.status){e.next=18;break}return e.next=12,l.json();case 12:c=e.sent,d(!1),b(c),ie(!1),e.next=19;break;case 18:400===l.status?a.push("/wrongreq"):404===l.status&&a.push("/notfound");case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){e.errors,e.touched;var t=e.setFieldValue;return r.a.createElement(j.c,null,r.a.createElement("div",{className:"CalendarWrapper"},r.a.createElement("div",{className:"CalendarLeftBlock"},r.a.createElement("img",{src:v.photoUrl,alt:"photoUrl"}),o&&r.a.createElement("input",{type:"file",name:"file",onChange:function(e){t("file",e.currentTarget.files[0])}}),r.a.createElement("div",{className:"DeleteButtonCl"},r.a.createElement("button",{type:"button",class:"btn btn-info btn-lg btn-danger","data-toggle":"modal","data-target":"#myModal"},"Delete"),r.a.createElement("div",{class:"modal fade",id:"myModal",role:"dialog"},r.a.createElement("div",{class:"modal-dialog modal-sm"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"modal"},"\xd7"),r.a.createElement("h4",{class:"modal-title"},"Are you sure?"),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",onClick:function(){!function(){fe.apply(this,arguments)}()},class:"btn btn-default","data-dismiss":"modal",method:"POST"},"Ok"),r.a.createElement("button",{type:"button",class:"btn btn-default","data-dismiss":"modal"},"Close")))))))),r.a.createElement("div",{className:"CalendarRighttBlock"},r.a.createElement("div",{className:"NameInfoCl"},r.a.createElement("label",null,"Name\xa0:\xa0"),r.a.createElement("div",{className:"NameInfoClP"},o?r.a.createElement(j.b,{name:"name",type:"text"}):r.a.createElement("p",{className:"CalendarRighttBlockP"},v.name),r.a.createElement(j.a,{component:"div",className:"invalid-feedback error-message",name:"name"}))),r.a.createElement("div",{className:"CalendarEvents"},r.a.createElement("h4",null,"Events"),0===H?r.a.createElement("div",{className:"NothingFoundProfile"},"Nothing\xa0Found"):r.a.createElement("ul",{className:"list-group"},_.map((function(e,t){return r.a.createElement("li",{style:{background:(a=e.status,-1===a?"#FF4E4E":1===a?"#66FF66":"")},className:"list-group-item",key:t},r.a.createElement(u.b,{to:"/event/"+e._id},e.name));var a})))),0===H?r.a.createElement("div",null):r.a.createElement("div",{className:"EventsButtonsCl"},r.a.createElement("div",{className:"prevButtonClEv"},1===z?r.a.createElement("button",{disabled:!0,className:"form-control"},"prev"):r.a.createElement("button",{className:"form-control",onClick:function(e){e.preventDefault(),function(){var e=parseInt(z)-1;U(pe(e,v.events)),G(e)}()}},"prev")),r.a.createElement("p",null,z+" / "+H),r.a.createElement("div",{className:"nextButtonClEv"},z<H?r.a.createElement("button",{className:"form-control",type:"button",onClick:function(e){e.preventDefault(),function(){var e=parseInt(z)+1;U(pe(e,v.events)),G(e)}()}},"next"):r.a.createElement("button",{disabled:!0,className:"form-control"},"next"))),0===H?r.a.createElement("div",null):r.a.createElement("div",{className:"DeleteLink"},r.a.createElement("select",{className:"form-control",id:"selectmy2",onChange:function(e){e.preventDefault(),F(e.currentTarget.value)}},r.a.createElement("option",{hidden:!0,defaultValue:!0},"Choose"),_.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)})))),0===H?r.a.createElement("div",null):r.a.createElement("div",{className:"AddButtonCL2"},T?r.a.createElement("button",{className:"form-control",onClick:function(e){e.preventDefault(),function(){de.apply(this,arguments)}(),L(!1),F(void 0),function(){for(var e=document.getElementById("selectmy2").options,t=0;t<e.length;t++)e[t].selected=!1}()}},"Delete Link"):r.a.createElement("button",{disabled:!0,className:"form-control"},"Delete Link")),o?r.a.createElement("input",{style:{backgroundColor:"#4ACF93"},className:"form-control EditMode",type:"submit",value:"Save"}):r.a.createElement("button",{style:{backgroundColor:"yellow"},className:"form-control EditMode",type:"button",onClick:function(e){e.preventDefault(),d(!0)}},"Edit Mode")),r.a.createElement("div",{className:"RightBlock2"},r.a.createElement("div",{className:"NotCalendarEvents"},r.a.createElement("h4",null,"Not Assigned Events"),0===re?r.a.createElement("div",null):r.a.createElement("ul",{className:"list-group"},$.map((function(e,t){return r.a.createElement("li",{className:"list-group-item",key:t},r.a.createElement(u.b,{to:"/event/"+e._id},e.name))})))),0===re?r.a.createElement("div",null):r.a.createElement("div",{className:"PagBut2"},r.a.createElement("div",{className:"prevButtonClEv"},1===ee?r.a.createElement("button",{disabled:!0,className:"form-control"},"prev"):r.a.createElement("button",{className:"form-control",onClick:function(e){e.preventDefault(),function(){var e=parseInt(ee)-1;Q(pe(e,y)),te(e)}()}},"prev")),r.a.createElement("p",null,ee+" / "+re),r.a.createElement("div",{className:"nextButtonClEv"},ee<re?r.a.createElement("button",{className:"form-control",type:"button",onClick:function(e){e.preventDefault(),function(){var e=parseInt(ee)+1;Q(pe(e,y)),te(e)}()}},"next"):r.a.createElement("button",{disabled:!0,className:"form-control"},"next"))),0===re?r.a.createElement("div",{className:"NothingFoundProfile"},"Nothing\xa0Found"):r.a.createElement("div",{className:"AddLink"},r.a.createElement("select",{className:"form-control",id:"selectmy",onChange:function(e){e.preventDefault(),C(e.currentTarget.value)}},r.a.createElement("option",{hidden:!0,defaultValue:!0},"Choose"),$.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)})))),0===re?r.a.createElement("div",null):r.a.createElement("div",{className:"AddButtonCL"},O?r.a.createElement("button",{className:"form-control",onClick:function(e){e.preventDefault(),function(){me.apply(this,arguments)}(),L(!1),C(void 0),function(){for(var e=document.getElementById("selectmy").options,t=0;t<e.length;t++)e[t].selected=!1}()}},"Add Link"):r.a.createElement("button",{disabled:!0,className:"form-control"},"Add Link")))))})))};var W=function(e){var t=e.item,a=e.index,n=5*(e.page-1)+a+1;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},n),r.a.createElement("td",null,r.a.createElement(u.b,{to:"/calendar/"+t._id},t.name)),r.a.createElement("td",null,t.creationDate))};var H=function(e){var t=e.history,a=Object(n.useState)([]),l=Object(m.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)(1),d=Object(m.a)(u,2),p=d[0],f=d[1],v=Object(n.useState)(),b=Object(m.a)(v,2),E=b[0],g=b[1],y=Object(n.useState)(!0),x=Object(m.a)(y,2),k=x[0],N=x[1],j=Object(n.useState)(""),w=Object(m.a)(j,2),O=w[0],C=w[1],S=Object(n.useContext)(h);function I(){return(I=Object(i.a)(s.a.mark((function e(a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),n=parseInt(a)+1,console.log(n,"page"),e.prev=3,e.next=6,fetch("/api/v1/calendars/?page=".concat(n,"&search=").concat(O),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 6:if(200!==(r=e.sent).status){e.next=17;break}return e.next=10,r.json();case 10:l=e.sent,o(l.calendars),g(l.count),f(n),N(!1),e.next=18;break;case 17:404===r.status?t.push("/notfound"):400===r.status&&t.push("/wrongreq");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}function T(){return(T=Object(i.a)(s.a.mark((function e(a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),n=parseInt(a)-1,console.log(n,"page"),e.prev=3,e.next=6,fetch("/api/v1/calendars/?page=".concat(n,"&search=").concat(O),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 6:if(200!==(r=e.sent).status){e.next=17;break}return e.next=10,r.json();case 10:l=e.sent,o(l.calendars),g(l.count),f(n),N(!1),e.next=18;break;case 17:404===r.status?t.push("/notfound"):400===r.status&&t.push("/wrongreq");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[3,20]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(i.a)(s.a.mark((function e(){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S.user){e.next=4;break}t.push("/unauthorized"),e.next=25;break;case 4:return e.prev=4,e.next=7,fetch("/api/v1/calendars/?page=1&search=".concat(O),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if(a=e.sent,console.log(a),200!==a.status){e.next=19;break}return e.next=12,a.json();case 12:n=e.sent,console.log(n),o(n.calendars),g(n.count),N(!1),e.next=20;break;case 19:404===a.status?t.push("/notfound"):400===a.status&&t.push("/wrongreq");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(4),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[4,22]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,O,S.user]);var F=Math.ceil(E/5);return r.a.createElement("div",null," ",!k&&r.a.createElement("div",{className:"EventsWrapper"},r.a.createElement("div",{className:"SearchBlock"},r.a.createElement("label",null,"Search\xa0by\xa0Name\xa0:\xa0"),r.a.createElement("input",{className:"form-control Search",maxLength:"20",onChange:function(e){e.preventDefault(),C(e.currentTarget.value)}})),r.a.createElement("div",{className:"EventsInfo"},0===E?r.a.createElement("div",{className:"NothingFoundCol"},"Nothing\xa0Found"):r.a.createElement("div",null,r.a.createElement("table",{className:"table table-hover table-fixed"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Creation Date"))),r.a.createElement("tbody",null,c.map((function(e,t){return r.a.createElement(W,{key:e._id,index:t,page:p,item:e})})))),r.a.createElement("div",{className:"PaginationButtons"},r.a.createElement("div",{className:"prevButton"},1===p?r.a.createElement("button",{disabled:!0,className:"form-control"},"prev"):r.a.createElement("button",{className:"form-control",onClick:function(){!function(e){T.apply(this,arguments)}(p)}},"prev")),r.a.createElement("p",null,p+" / "+F),r.a.createElement("div",{className:"nextButton"},5*p<E?r.a.createElement("button",{className:"form-control",onClick:function(){!function(e){I.apply(this,arguments)}(p)}},"next"):r.a.createElement("button",{disabled:!0,className:"form-control"},"next")))),r.a.createElement("div",{className:"AddButton"},r.a.createElement("button",{className:"form-control",onClick:function(){t.push("/addCalendar")}},"Add calendar")))))};a(52);var J=function(){return r.a.createElement("div",{id:"main"},r.a.createElement("div",{class:"fof"},r.a.createElement("h1",null,"Not Found 404")))};var Y=function(){return r.a.createElement("div",{id:"main"},r.a.createElement("div",{class:"fof"},r.a.createElement("h1",null,"Wrong request 400")))};var K=function(){return r.a.createElement("div",{id:"main"},r.a.createElement("div",{className:"fof"},r.a.createElement("h1",null,"Forbiden 403")))};var $=function(){return r.a.createElement("div",{id:"main"},r.a.createElement("div",{class:"fof"},r.a.createElement("h1",null,"Unauthorized 401")))};var Q=function(){return r.a.createElement(b,null,r.a.createElement(u.a,null,r.a.createElement("div",null,r.a.createElement(x,null),r.a.createElement(S.c,null,r.a.createElement(S.a,{path:"/",exact:!0,component:N}),r.a.createElement(S.a,{path:"/events",exact:!0,component:B}),r.a.createElement(S.a,{path:"/calendars",exact:!0,component:H}),r.a.createElement(S.a,{path:"/AddCalendar",exact:!0,component:G}),r.a.createElement(S.a,{path:"/about",exact:!0,component:k}),r.a.createElement(S.a,{path:"/addEvent",exact:!0,component:z}),r.a.createElement(S.a,{path:"/login",exact:!0,component:C}),r.a.createElement(S.a,{path:"/register",exact:!0,component:F}),r.a.createElement(S.a,{path:"/profile/:id",exact:!0,component:D}),r.a.createElement(S.a,{path:"/event/:id",exact:!0,component:V}),r.a.createElement(S.a,{path:"/calendar/:id",exact:!0,component:R}),r.a.createElement(S.a,{path:"/wrongreq",exact:!0,component:Y}),r.a.createElement(S.a,{path:"/users",exact:!0,component:L}),r.a.createElement(S.a,{path:"/forbiden",exact:!0,component:K}),r.a.createElement(S.a,{path:"/unauthorized",exact:!0,component:$}),r.a.createElement(S.a,{path:"/",component:J})),r.a.createElement(I,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},39:function(e,t,a){},52:function(e,t,a){}},[[127,1,2]]]);
//# sourceMappingURL=main.fb8e9b9b.chunk.js.map